<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.boot.techsupportscheduler.support.dao.NoticeDao">
    <!-- 메뉴 조회 -->
    <select id="doList" resultType="com.boot.techsupportscheduler.support.vo.Notice">
        SELECT notice_id, is_top, title, content, views, created_at, updated_at, deleted_yn, deleted_at
        FROM notice
        WHERE deleted_yn = 'N'
        ORDER BY is_top DESC, notice_id ASC
    </select>

    <!-- 삭제처리 -->
    <delete id="doDelete">
        Delete from notice
        Where notice_id = CAST(#{strNo} as INTEGER)
    </delete>

  <!--  공지사항 등록 처리-->
    <insert id="doInsert" parameterType="com.boot.techsupportscheduler.support.vo.Notice"
            useGeneratedKeys="true" keyProperty="noticeId">
        INSERT INTO notice
        (is_top, title, content, views, created_at, updated_at, deleted_yn, deleted_at)
        VALUES
        (#{isTop}, #{title}, #{content}, 0, NOW(), NOW(), 'N', NULL)
    </insert>



    <!--
        <![CDATA[   ]]>   : xml 파싱에 관여하지 않도록 처리
        <  	&lt;
        >	&gt;
    -->
<!--    &lt;!&ndash; 검색에 의한 쿼리 &ndash;&gt;-->
<!--    <select id="doSerch" resultType="com.boot.sailing.v3.vo.Cust_info">-->
<!--        SELECT no, cust_id, name, email, role,-->
<!--        DATE_FORMAT(reg_day,'%Y.%m.%d') AS reg_day-->
<!--        FROM cust_info-->
<!--        WHERE 1=1-->
<!--        AND reg_day >= DATE_FORMAT( #{strStartDate},'%Y%m%d')-->
<!--        AND reg_day &lt; DATE_ADD(DATE_FORMAT(#{strEndDate},'%Y%m%d'), INTERVAL +1 DAY)-->
<!--        <if test="strName != 'ALL'">-->
<!--            AND name like CONCAT(#{strName},'%')-->
<!--        </if>-->
<!--    </select>-->

</mapper>